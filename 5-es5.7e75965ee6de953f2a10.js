!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Yj9t:function(e,i,r){"use strict";r.r(i),r.d(i,"AuthModule",(function(){return w}));var o,c=r("ofXK"),a=r("tyNb"),u=r("fXoL"),s=r("qXBG"),f=((o=function(){function e(n){t(this,e),this.auth=n}return n(e,[{key:"ngOnInit",value:function(){}},{key:"login",value:function(){this.auth.authorize()}}]),e}()).\u0275fac=function(t){return new(t||o)(u.Hb(s.a))},o.\u0275cmp=u.Bb({type:o,selectors:[["rbc-login"]],decls:6,vars:0,consts:[[3,"click"]],template:function(t,e){1&t&&(u.Mb(0,"div"),u.Mb(1,"p"),u.jc(2,"To take advantage of rogue beats, you need to "),u.Mb(3,"a",0),u.Tb("click",(function(){return e.login()})),u.jc(4,"login"),u.Lb(),u.jc(5," through Spotify."),u.Lb(),u.Lb())},styles:[""]}),o),b=r("SX+u"),h=r("pLZG");function l(t,e){if(1&t&&(u.Mb(0,"div"),u.Mb(1,"p"),u.jc(2),u.Lb(),u.Lb()),2&t){var n=u.Vb();u.xb(2),u.kc(n.errorMessage)}}function p(t,e){1&t&&(u.Mb(0,"h3"),u.jc(1,"Authorizing\u2026"),u.Lb())}var d,g,v,y=[{path:"",component:f},{path:"authorized",component:(d=function(){function e(n,i,r,o){t(this,e),this.authService=n,this.activatedRoute=i,this.router=r,this.storage=o}return n(e,[{key:"ngOnInit",value:function(){var t=this;this.redirectUri=this.storage.get("redirect_uri"),this.storage.remove("redirect_uri"),this.activatedRoute.queryParams.subscribe((function(e){e.code?t.authService.getAccessToken(e.code,e.state):(t.errorMessage="Unable to obtain authorization from spotify",t.storage.set("redirect_uri",t.redirectUri))})),this.authService.authorized$.pipe(Object(h.a)((function(t){return t}))).subscribe((function(e){var n,i=null!==(n=t.redirectUri)&&void 0!==n?n:"/";t.router.navigate([i])}))}}]),e}(),d.\u0275fac=function(t){return new(t||d)(u.Hb(s.a),u.Hb(a.a),u.Hb(a.b),u.Hb(b.a))},d.\u0275cmp=u.Bb({type:d,selectors:[["rbc-spotify-auth"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["authorizing",""]],template:function(t,e){if(1&t&&(u.hc(0,l,3,1,"div",0),u.hc(1,p,2,0,"ng-template",null,1,u.ic)),2&t){var n=u.cc(2);u.Yb("ngIf",e.errorMessage)("ngIfElse",n)}},directives:[c.l],styles:[""]}),d)}],m=((v=function e(){t(this,e)}).\u0275mod=u.Fb({type:v}),v.\u0275inj=u.Eb({factory:function(t){return new(t||v)},imports:[[a.d.forChild(y)],a.d]}),v),w=((g=function e(){t(this,e)}).\u0275mod=u.Fb({type:g}),g.\u0275inj=u.Eb({factory:function(t){return new(t||g)},imports:[[c.c,m]]}),g)}}])}();