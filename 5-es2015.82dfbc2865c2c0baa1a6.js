(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Yj9t:function(t,e,r){"use strict";r.r(e),r.d(e,"AuthModule",(function(){return f}));var i=r("ofXK"),n=r("tyNb"),o=r("fXoL"),s=r("qXBG");let c=(()=>{class t{constructor(t){this.auth=t}ngOnInit(){}login(){this.auth.authorize()}}return t.\u0275fac=function(e){return new(e||t)(o.Hb(s.a))},t.\u0275cmp=o.Bb({type:t,selectors:[["rbc-login"]],decls:6,vars:0,consts:[[3,"click"]],template:function(t,e){1&t&&(o.Mb(0,"div"),o.Mb(1,"p"),o.kc(2,"To take advantage of rogue beats, you need to "),o.Mb(3,"a",0),o.Tb("click",(function(){return e.login()})),o.kc(4,"login"),o.Lb(),o.kc(5," through Spotify."),o.Lb(),o.Lb())},styles:[""]}),t})();var a=r("pLZG"),u=r("SX+u");function b(t,e){if(1&t&&(o.Mb(0,"div"),o.Mb(1,"p"),o.kc(2),o.Lb(),o.Lb()),2&t){const t=o.Vb();o.xb(2),o.lc(t.errorMessage)}}function h(t,e){1&t&&(o.Mb(0,"h3"),o.kc(1,"Authorizing\u2026"),o.Lb())}const l=[{path:"",component:c},{path:"authorized",component:(()=>{class t{constructor(t,e,r,i){this.authService=t,this.activatedRoute=e,this.router=r,this.storage=i}ngOnInit(){this.redirectUri=this.storage.get("redirect_uri"),this.storage.remove("redirect_uri"),this.activatedRoute.queryParams.subscribe(t=>{t.code?this.authService.getAccessToken(t.code,t.state):(this.errorMessage="Unable to obtain authorization from spotify",this.storage.set("redirect_uri",this.redirectUri))}),this.authService.authorized$.pipe(Object(a.a)(t=>t)).subscribe(t=>{var e;const r=null!==(e=this.redirectUri)&&void 0!==e?e:"/";this.router.navigate([r])})}}return t.\u0275fac=function(e){return new(e||t)(o.Hb(s.a),o.Hb(n.a),o.Hb(n.b),o.Hb(u.a))},t.\u0275cmp=o.Bb({type:t,selectors:[["rbc-spotify-auth"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["authorizing",""]],template:function(t,e){if(1&t&&(o.ic(0,b,3,1,"div",0),o.ic(1,h,2,0,"ng-template",null,1,o.jc)),2&t){const t=o.ec(2);o.Yb("ngIf",e.errorMessage)("ngIfElse",t)}},directives:[i.m],styles:[""]}),t})()}];let d=(()=>{class t{}return t.\u0275mod=o.Fb({type:t}),t.\u0275inj=o.Eb({factory:function(e){return new(e||t)},imports:[[n.d.forChild(l)],n.d]}),t})(),f=(()=>{class t{}return t.\u0275mod=o.Fb({type:t}),t.\u0275inj=o.Eb({factory:function(e){return new(e||t)},imports:[[i.c,d]]}),t})()}}]);